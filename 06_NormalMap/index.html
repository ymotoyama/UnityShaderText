<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="ROBOTS" content="NOINDEX,NOFOLLOW,NOARCHIVE">
    <title>ノーマルマップ</title>
    <link rel="stylesheet" href="../style.css">
    <style>
       
    </style>
  </head>
  <body>
    <p class="title">ノーマルマップ</p>
    <p>ノーマルマップについて、そしてノーマルマップの使い方について学びましょう。</p>
    <h1>ノーマルマップとは</h1>
    <p></p>
    <p><strong>ノーマルマップとは、オブジェクト表面の細かい凹凸を表現するための特殊なテクスチャーです</strong>。</p>
    <p>オブジェクト表面の細かい凹凸を全てポリゴンで表現しようとすると、あっという間に数千万～数億ポリゴンになってしまい、リアルタイムで描画できなくなってしまいます。<br>
      そこで、ポリゴンの数を増やさずに表面の細かい凹凸を表現するために編み出された技術がノーマルマップです。</p>
    <img src="image/jari-normal.png" alt="" style="width: 450px; height: 450px;">
    <p>物体表面の向き（法線の向き）を、ノーマルマップと呼ばれるテクスチャー画像に書き込みます。<br>
      具体的には、法線ベクトルのX, Y, Zを画像の色情報（R, G, B）に格納します。 <br>
      <img src="image/NTBFromUVs.png" alt=""></p>
    引用：<a href="http://www.opengl-tutorial.org/jp/intermediate-tutorials/tutorial-13-normal-mapping/"
      target="_blank">http://www.opengl-tutorial.org/jp/intermediate-tutorials/tutorial-13-normal-mapping/</a><br>
    <p>このとき、法線ベクトルを表現する座標空間は、オブジェクト空間ではありません。上図のように、面に沿った座標空間になります。<br>
      この座標空間のことを<strong>接空間（Tangent Space）</strong>と呼びます。<br>
      赤矢印がX軸、緑矢印がY軸、青矢印がZ軸です。</p>
    <p>表面に凹凸が無く平らである場合、面の法線は上図の青い矢印と同じ向きになります。<br>
      法線ベクトルのX, Y, Zそれぞれをノーマルマップ画像のピクセル（RGB）に格納すると、(0.5, 0.5, 1)となります。<br>
      大抵、法線ベクトルはそれに近い値になるため、ノーマルマップは全体的に水色っぽい画像になるというわけです。</p>
    <img src="image/normal.png" alt="" style="width: 618px; height: 234px;">
    <p>なぜ、X(R)とY(G)が0ではなく0.5なのかというと、画像の色情報は0～255までしか格納できない（マイナスの値は格納できない）ため、0.5を中心とするように下駄が履かされています。つまり、ノーマルマップ上の0.5は実質0です。</p>
    <p>ちなみに、上図の<strong>赤矢印を接線（Tangent）と呼び、緑矢印を従法線（Binormal）と呼びます</strong>。<br>
      一般的に、接線はUV座標のU方向、従法線はV方向とします。</p>
    <p> </p>
    <h1>ノーマルマップの作り方</h1>
    <p>ノーマルマップの作り方は主に3種類です。</p>
    <ol>
      <li>ZBrushなどのモデリングソフトで超ハイポリで作ってから、ローポリに変換する。その際に失われる細かい凹凸がノーマルマップに書き込まれる（全部ツールで自動的に行われる）。</li>
      <li>Substanceなどのマテリアル作成ツールで作成する</li>
      <li>実写写真からツールで生成する</li>
    </ol>
    <p>ちなみに、上記の砂利の地面のノーマルマップは、3番の「実写写真からツールで生成する」という手法で作られました。CRAZYBUMPという有料ソフトを使って本山が作りました。</p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
      <br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><a href="../">目次へ戻る</a></p>
    <p><br>
    </p>
  </body>
</html>
